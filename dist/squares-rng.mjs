var a=0xffffffffffffffffn,u=(c=0)=>{let t=BigInt(c);return()=>{t=t+0x9E3779B97F4A7C15n&a;let e=t;return e=(e^e>>30n)*0xBF58476D1CE4E5B9n&a,e=(e^e>>27n)*0x94D049BB133111EBn&a,e^e>>31n}},b=(c=0)=>{c||(c=Math.round(new Date().getTime()+Math.random()*1e6));let t=u(c),e=[],r=0n,s=0n;for(let n=0;n<8;n++)for(s<<=4n;;){let i=t()&0xfn;if(i&&!e.includes(i)){e.push(i),s+=i,r=i;break}}for(let n=0;n<8;n++)for(s<<=4n;;){let i=t()&0xfn;if(i&&i!==r){s+=i,r=i;break}}return s};var f="AGFzbQEAAAABDQJgAn5+AXxgA35+fwADAwIAAQUDAQABBx4DBm1lbW9yeQIABnNhbXBsZQAACHNhbXBsZV9uAAEKqQECbwEEfiAAIAF+IgIiAyABfCEEIAIgAn4gA3wiAkIgiiICIAJ+IAR8IgJCIIoiAiACfiADfCICQiCKIgIgAn4gBHwiAiIFQiCKIgIgAn4gA3xCIIggBYVCDIhCgICAgICAgPg/hL9EAAAAAAAA8D+hCzcBAX9BACEDA0ACQEEAIAJGDQAgAyAAIAEQADkDAEEIIANqIQNCASAAfCEAIAJBAWshAgwBCwsL",o,l,p=async()=>{let c=Uint8Array.from(atob(f||""),r=>r.charCodeAt(0)),t=await WebAssembly.compile(c);o=(await WebAssembly.instantiate(t)).exports,l=new Float64Array(o.memory.buffer)},m=p(),h=class c{key=0n;counter=0n;cache_size=1024*2;cache=new Float64Array(this.cache_size);cache_pointer=this.cache_size;fills=0;constructor(t,e){this.Reset(t,e)}Reset(t,e=0){this.key=t,this.counter=BigInt(e),this.cache_pointer=this.cache_size}Next(){return this.cache_pointer>=this.cache_size&&(this.Fill(this.cache_size,this.cache),this.cache_pointer=0),this.cache[this.cache_pointer++]}NextN(t,e,r=this.cache_size){e||(e=new Float64Array(t));let s=0;if(this.cache_pointer<this.cache_size){let n=Math.min(t,this.cache_size-this.cache_pointer);if(e.set(this.cache.subarray(this.cache_pointer,this.cache_pointer+n)),this.cache_pointer+=n,n===t)return e;s=n}for(;s<t;){let n=e.subarray(s),i=Math.min(r,t-s);this.Fill(i,n),s+=i}return e}static async CreateInstance(t,e=0){return await m,new c(t,BigInt(e))}Fill(t,e){o.sample_n(this.counter,this.key,t),e.set(l.subarray(0,t)),this.counter+=BigInt(t),this.fills++}};export{b as GenerateKey,h as SquaresRNG};
